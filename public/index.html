<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Skyblock Guide</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="indexstyle.css">

  </head>
  <body>
    <nav>
      <div class="hamburger-menu">â˜°</div>
      <div class="user-icon" onclick="openUserModal()"><p id="usernameDisplay">UsernameHere</p>ðŸ‘¤</div>

      <div id="userModal" class="user-modal">
        <div class="user-modal-content">
          <span class="user-modal-close" onclick="closeUserModal()"
            >&times;</span
          >
          <h2>UsernameHere</h2>
          <p><i>last updated 2:07</i></p>
          <div id="profileSection">
            <label for="profileDropdown">Select Profile:</label>
            <select id="profileDropdown">
                <!-- Options will be dynamically generated here -->
            </select>
          </div>
          <button class="user-relink-btn" onclick="relinkUser()">Relink</button>
          <button class="user-relink-btn" onclick="refreshUser()">Refresh</button>
        </div>
      </div>
    </nav>
    <div class="menu">
      <span class="close-menu">âœ–</span>
      <h1><a href="#" style="font-size:1em;">SkyblockGuide</a></h1>
      <ul>
        <li><a href="#">Combat</a></li>
        <li><a href="#">Mining</a></li>
        <li><a href="#" class="menu-selected">Farming</a></li>
        <li><a href="#">Foraging</a></li>
        <li><a href="#">Fishing</a></li>
        <li><a href="#">Enchanting</a></li>
        <li><a href="#">Alchemy</a></li>
        <li><a href="#">Taming</a></li>
        <li><a href="#">Dungeons</a></li>
        <li><a href="#">Carpentry</a></li>
      </ul>
    </div>

    <div class="skill-info">
      <div class="skill-info-left-wrapper">
        <div class="progress-chart-container">
          <canvas id="progressChart"></canvas>
          <div class="progress-chart-center-text" id="progressChartCenterText">
              <div class="number" id="progressNumber">56</div>
              <div class="percentage" id="progressPercentage">22%</div>
          </div>
      </div>
        <div class="skill-name">
          <h1>Farming</h1>
          <i>Gamemode</i> - <i id="cuteProfile"> Profile</i>
        </div>  
      </div>
      <div class="ranking-container">
        <h3>THIS IS UNDER CONSTRUCTION</h3>
        <h4>NOT FINISHED</h4>
      </div>
    </div>

    <div class="content">
      <div class="left-column">
        <div class="big-box">
          <h1>Your Progress</h1>
          <p>Blah blah blah blah</p></br>
          <p>Blah blah blah blah</p></br>
          <p>Blah blah blah blah</p></br>
          <input type="text" id="username" placeholder="Enter username">
        <button id="fetchBtn">Fetch Player Data</button>  
        </div>
        
      </div>
      <div class="right-column">
        <div class="carousel">
          <div class="carousel-arrow prev" onclick="prevBox()">&#8249;</div>
          <div class="carousel-content">
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Gear</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-gear-box-content">
                <div class="gear-grid">
                  <div class="box">
                    <img id="helmet" class="armour-img" src="" alt="Helmet">
                  </div>
                  <div class="box">
                    <img id="chestplate" class="armour-img" src="" alt="Chestplate">
                  </div>
                  <div class="box">
                    <img id="leggings" class="armour-img" src="" alt="Leggings">
                  </div>
                  <div class="box">
                    <img id="boots" class="armour-img" src="" alt="Boots">
                  </div>
                  
                  <div class="box"></div>
                  <div class="box"></div>
                  <div class="box"></div>
                  <div class="box"></div>
                </div>
                <div class="armor-stats">
                  <h2 id="totalFF"><span style="color: white;">Total </span><span style="color: #D5A33A;">Farming Fortune</span>: <span id="totalFFValue"></span></h2>
                  <p id="helmetFF"><span style="color: white;">Helmet </span><span style="color: #D5A33A;">Farming Fortune</span>: <span id="helmetFFValue"></span></p>
                  <p id="chestplateFF"><span style="color: white;">Chestplate </span><span style="color: #D5A33A;">Farming Fortune</span>: <span id="chestplateFFValue"></span></p>
                  <p id="leggingsFF"><span style="color: white;">Leggings </span><span style="color: #D5A33A;">Farming Fortune</span>: <span id="leggingsFFValue"></span></p>
                  <p id="bootsFF"><span style="color: white;">Boots </span><span style="color: #D5A33A;">Farming Fortune</span>: <span id="bootsFFValue"></span></p>
                  <p id="speed"><span style="color: white;">Total </span><span style="color: #D5A33A;">Speed</span>: <span id="speedValue"></span></p>
                </div>                
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">FF Upgrade</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Best Pet</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Medals</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Farming Wisdom</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Cheapest Pest Chance</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Small Box 7</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
            <div class="small-box collapsed">
              <div class="small-box-header">
                <div class="small-box-title">Small Box 8</div>
                <div class="arrow" style="font-size: 28px">â–¼</div>
              </div>
              <div class="small-box-content">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus
                lacinia odio vitae vestibulum vestibulum. Cras venenatis euismod
                malesuada.
              </div>
            </div>
          </div>
          <div class="carousel-arrow next" onclick="nextBox()">&#8250;</div>
        </div>
      </div>
    </div>

    <footer>
      <a href="https://github.com/rockyhenderson" target="_blank">My GitHub</a>
      <p>&copy; 2024 Jack Iuean Rocky Henderson</p>
    </footer>
    <script src="functions/dataManager.js"></script>
  <script>
    document.getElementById("fetchBtn").addEventListener("click", function() {
      const username = document.getElementById("username").value;

      // Call fetchData from dataManager.js
      if (username) {
        localStorage.setItem("playerUsername", username)
        fetchData(username);
      } else {
        console.log("Please enter a username");
      }
    });
  </script>
  <script src="functions/farming.js"></script>
  </body>
</html>
